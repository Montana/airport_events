#!/usr/bin/env ruby
require_relative '../lib/wifi_event'
require "thor"

class WifiLogThor < Thor
  desc 'enable_airport', 'Enable the airport command in MacOS.'
  def enable_airport
    puts 'Create symlink'
  end

  desc 'to_file', "Log WiFi connection events to a JSON file. Default is: ~/.wifilog.json"
  def to_file(path="#{Dir.home}/.wifilog.json")
    WifiEvent::Logger.new path
  end

  desc 'watch', "Watch WiFi connection events live."
  def watch
    WifiEvent::Echo.new
  end

  default_task :to_file
end

WifiLogThor.start